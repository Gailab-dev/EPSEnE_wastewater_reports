# REQ002 ìœ ì…ìˆ˜ ë¶€í•˜ëŸ‰ ì˜ˆì¸¡ ëª¨ë¸ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-11-20
**ëª¨ë¸ ID**: REQ002
**ë²„ì „**: v1.0 (ê°œì„  ì™„ë£Œ)

---

## ğŸ“‹ ëª©ì°¨

1. [ëª¨ë¸ ê°œìš”](#ëª¨ë¸-ê°œìš”)
2. [ëª¨ë¸ ì•Œê³ ë¦¬ì¦˜ ë° êµ¬ì¡°](#ëª¨ë¸-ì•Œê³ ë¦¬ì¦˜-ë°-êµ¬ì¡°)
3. [ì…ë ¥ ë°ì´í„° ì •ì˜](#ì…ë ¥-ë°ì´í„°-ì •ì˜)
4. [ì…ë ¥ ë°ì´í„° ì „ì²˜ë¦¬ ê³¼ì •](#ì…ë ¥-ë°ì´í„°-ì „ì²˜ë¦¬-ê³¼ì •)
5. [ì¶œë ¥ ë°ì´í„° ì •ì˜](#ì¶œë ¥-ë°ì´í„°-ì •ì˜)
6. [ëª¨ë¸ ì‚¬ìš© ë°©ë²•](#ëª¨ë¸-ì‚¬ìš©-ë°©ë²•)
7. [ì„±ëŠ¥ ì§€í‘œ](#ì„±ëŠ¥-ì§€í‘œ)

---

## ëª¨ë¸ ê°œìš”

### ëª©ì 
í•˜ìˆ˜ì²˜ë¦¬ì‹œì„¤ ìœ ì…ìˆ˜ì˜ **BOD, TN, TP ë¶€í•˜ëŸ‰ì„ ë™ì‹œì— ì˜ˆì¸¡**í•˜ì—¬ ì²˜ë¦¬ ê³µì • ìµœì í™” ë° ìš´ì˜ íš¨ìœ¨í™”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•
- **Multi-Output ì˜ˆì¸¡**: 3ê°œì˜ ë¶€í•˜ëŸ‰ì„ ë‹¨ì¼ ëª¨ë¸ë¡œ ë™ì‹œ ì˜ˆì¸¡
- **ì‹œê³„ì—´ ë°ì´í„°**: ì‹œê°„ë‹¹ ì¸¡ì • ë°ì´í„° ê¸°ë°˜ ì˜ˆì¸¡
- **ì‹¤ì‹œê°„ ìš´ì˜ ì§€ì›**: 1ì‹œê°„ í›„ ë¶€í•˜ëŸ‰ ì˜ˆì¸¡ ê°€ëŠ¥
- **ë„ë©”ì¸ ì§€ì‹ í™œìš©**: í•˜ìˆ˜ì²˜ë¦¬ ê³µì • íŠ¹ì„±ì„ ë°˜ì˜í•œ í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§

### ì£¼ìš” ì‚¬ì–‘
| í•­ëª© | ìƒì„¸ |
|------|------|
| **ëª¨ë¸ íƒ€ì…** | XGBoost Multi-Output Regression |
| **ì˜ˆì¸¡ ëŒ€ìƒ** | BOD ë¶€í•˜ëŸ‰, TN ë¶€í•˜ëŸ‰, TP ë¶€í•˜ëŸ‰ |
| **ì˜ˆì¸¡ ì‹œì ** | t ì‹œì  ë°ì´í„°ë¡œ t+1 ì‹œì  ì˜ˆì¸¡ (1ì‹œê°„ í›„) |
| **ì…ë ¥ í”¼ì²˜** | 54ê°œ (ì›ë³¸ 6ê°œ + ì‹œê°„ 6ê°œ + ë„ë©”ì¸ 9ê°œ + Lag 12ê°œ + Rolling 16ê°œ + ê¸°íƒ€ 5ê°œ) |
| **í•™ìŠµ ë°ì´í„°** | 2024ë…„ ì‹œê°„ë‹¹ ë°ì´í„° (8,588ê°œ ìƒ˜í”Œ) |
| **ëª©í‘œ ì„±ëŠ¥** | RÂ² â‰¥ 0.85, MAPE â‰¤ 15% |

---

## ëª¨ë¸ ì•Œê³ ë¦¬ì¦˜ ë° êµ¬ì¡°

### 1. ì•Œê³ ë¦¬ì¦˜: XGBoost Multi-Output Regression

#### XGBoost (eXtreme Gradient Boosting)
- **íƒ€ì…**: Gradient Boosting Decision Tree ê¸°ë°˜ ì•™ìƒë¸” ëª¨ë¸
- **íŠ¹ì§•**:
  - ë†’ì€ ì˜ˆì¸¡ ì •í™•ë„
  - ë³‘ë ¬ ì²˜ë¦¬ë¡œ ë¹ ë¥¸ í•™ìŠµ ì†ë„
  - ì •ê·œí™” ê¸°ëŠ¥ìœ¼ë¡œ ê³¼ì í•© ë°©ì§€
  - ê²°ì¸¡ì¹˜ ìë™ ì²˜ë¦¬

#### Multi-Output Wrapper
- `sklearn.multioutput.MultiOutputRegressor` ì‚¬ìš©
- 3ê°œì˜ ë…ë¦½ì ì¸ XGBoost ëª¨ë¸ì„ ë‚´ë¶€ì—ì„œ í•™ìŠµ
- ê° ì¶œë ¥(BOD, TN, TP)ë§ˆë‹¤ ë³„ë„ì˜ ì˜ˆì¸¡ê¸° ìƒì„±

### 2. ëª¨ë¸ êµ¬ì¡°

```
ì…ë ¥ ë°ì´í„° (54ê°œ í”¼ì²˜)
    â†“
[ì „ì²˜ë¦¬ ë ˆì´ì–´]
    â”œâ”€ ì´ìƒì¹˜ í´ë¦¬í•‘ (1%~99% ë¶„ìœ„ìˆ˜)
    â”œâ”€ ì‹œê°„ í”¼ì²˜ ìƒì„±
    â”œâ”€ ë„ë©”ì¸ í”¼ì²˜ ìƒì„±
    â”œâ”€ Lag í”¼ì²˜ ìƒì„± (24h, 168h)
    â””â”€ Rolling í†µê³„ ìƒì„± (24h ìœˆë„ìš°)
    â†“
[ì •ê·œí™” ë ˆì´ì–´]
    â””â”€ StandardScaler (í‰ê·  0, í‘œì¤€í¸ì°¨ 1)
    â†“
[XGBoost Multi-Output]
    â”œâ”€ Estimator #1: BOD ë¶€í•˜ëŸ‰ ì˜ˆì¸¡
    â”œâ”€ Estimator #2: TN ë¶€í•˜ëŸ‰ ì˜ˆì¸¡
    â””â”€ Estimator #3: TP ë¶€í•˜ëŸ‰ ì˜ˆì¸¡
    â†“
[ì—­ì •ê·œí™” ë ˆì´ì–´]
    â””â”€ ì˜ˆì¸¡ê°’ì„ ì›ë˜ ìŠ¤ì¼€ì¼ë¡œ ë³µì›
    â†“
ì¶œë ¥ ë°ì´í„° (3ê°œ ë¶€í•˜ëŸ‰)
```

### 3. í•˜ì´í¼íŒŒë¼ë¯¸í„° (ìµœì í™” ì™„ë£Œ)

```python
xgb_params = {
    'n_estimators': 200,         # íŠ¸ë¦¬ ê°œìˆ˜
    'max_depth': 4,              # íŠ¸ë¦¬ ìµœëŒ€ ê¹Šì´ (ê³¼ì í•© ë°©ì§€)
    'learning_rate': 0.05,       # í•™ìŠµë¥  (ì²œì²œíˆ í•™ìŠµ)
    'min_child_weight': 1,       # ë¦¬í”„ ë…¸ë“œ ìµœì†Œ ê°€ì¤‘ì¹˜
    'subsample': 0.8,            # í–‰ ìƒ˜í”Œë§ ë¹„ìœ¨ (80%)
    'colsample_bytree': 0.8,     # ì—´ ìƒ˜í”Œë§ ë¹„ìœ¨ (80%)
    'gamma': 0,                  # ë¶„í•  ìµœì†Œ ì†ì‹¤ ê°ì†Œ
    'reg_alpha': 0.1,            # L1 ì •ê·œí™” (Lasso)
    'reg_lambda': 1.0,           # L2 ì •ê·œí™” (Ridge)
    'random_state': 42,          # ì¬í˜„ì„±ì„ ìœ„í•œ ì‹œë“œ
    'n_jobs': -1                 # ë³‘ë ¬ ì²˜ë¦¬ (ëª¨ë“  CPU ì‚¬ìš©)
}
```

### 4. ê²€ì¦ ì „ëµ

#### Time Series Cross-Validation (5-Fold)
```
Fold 1: [Train â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      ] [Val â–ˆâ–ˆ]
Fold 2: [Train â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    ] [Val â–ˆâ–ˆ]
Fold 3: [Train â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ] [Val â–ˆâ–ˆ]
Fold 4: [Train â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] [Val â–ˆâ–ˆ]
Fold 5: [Train â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] [Val â–ˆâ–ˆ]
```

- **ëª©ì **: ì‹œê³„ì—´ ë°ì´í„°ì˜ ì‹œê°„ ìˆœì„œ ìœ ì§€
- **ì¥ì **: ëª¨ë¸ ì•ˆì •ì„± ë° ì¼ë°˜í™” ì„±ëŠ¥ ê²€ì¦
- **ê²°ê³¼**: ê° íƒ€ê²Ÿë³„ RÂ² Mean Â± Std ì‚°ì¶œ

---

## ì…ë ¥ ë°ì´í„° ì •ì˜

### 1. ì›ë³¸ ì…ë ¥ ë³€ìˆ˜ (6ê°œ)

| ë³€ìˆ˜ëª… | ë‹¨ìœ„ | ì„¤ëª… | ì •ìƒ ë²”ìœ„ | ì˜ˆì‹œ |
|--------|------|------|-----------|------|
| `ìœ ì…ìœ ëŸ‰` | mÂ³/ì¼ | í•˜ìˆ˜ì²˜ë¦¬ì¥ ìœ ì… ìœ ëŸ‰ | 50,000~200,000 | 128,018 |
| `ìœ ì…BOD` | mg/L | ìƒë¬¼í™”í•™ì  ì‚°ì†Œìš”êµ¬ëŸ‰ | 50~300 | 156.8 |
| `ìœ ì…TN` | mg/L | ì´ ì§ˆì†Œ ë†ë„ | 10~50 | 24.9 |
| `ìœ ì…TP` | mg/L | ì´ ì¸ ë†ë„ | 1~10 | 4.85 |
| `ìœ ì…TOC` | mg/L | ì´ ìœ ê¸°íƒ„ì†Œ ë†ë„ | 20~100 | 49.31 |
| `ìœ ì…SS` | mg/L | ë¶€ìœ ë¬¼ì§ˆ ë†ë„ | 30~300 | 142.0 |

### 2. ì‹œê°„ í”¼ì²˜ (6ê°œ)

| ë³€ìˆ˜ëª… | íƒ€ì… | ì„¤ëª… | ë²”ìœ„ |
|--------|------|------|------|
| `hour` | int | ì‹œê°„ (0~23ì‹œ) | 0~23 |
| `day_of_week` | int | ìš”ì¼ (0=ì›”ìš”ì¼, 6=ì¼ìš”ì¼) | 0~6 |
| `month` | int | ì›” (1~12ì›”) | 1~12 |
| `is_weekend` | int | ì£¼ë§ ì—¬ë¶€ (0=í‰ì¼, 1=ì£¼ë§) | 0, 1 |
| `season` | int | ê³„ì ˆ (1=ë´„, 2=ì—¬ë¦„, 3=ê°€ì„, 4=ê²¨ìš¸) | 1~4 |
| `day` | int | ì¼ì (1~31ì¼) | 1~31 |

**â€» ì£¼ì˜**: `day` ë³€ìˆ˜ëŠ” ëª¨ë¸ í•™ìŠµ ì‹œ ì œì™¸ë¨ (ê³¼ì í•© ë°©ì§€)

### 3. ë„ë©”ì¸ ê¸°ë°˜ í”¼ì²˜ (9ê°œ)

#### 3.1 ë¹„ìœ¨ í”¼ì²˜ (4ê°œ)
| ë³€ìˆ˜ëª… | ê³„ì‚°ì‹ | ì˜ë¯¸ | í™œìš© |
|--------|--------|------|------|
| `BOD_TN_ratio` | BOD / (TN + Îµ) | C/N ë¹„ìœ¨ ê·¼ì‚¬ì¹˜ | ìƒë¬¼í•™ì  íƒˆì§ˆ íš¨ìœ¨ ì˜ˆì¸¡ |
| `BOD_TP_ratio` | BOD / (TP + Îµ) | BOD/P ë¹„ìœ¨ | ìƒë¬¼í•™ì  ì¸ ì œê±° íš¨ìœ¨ |
| `TN_TP_ratio` | TN / (TP + Îµ) | N/P ë¹„ìœ¨ | ì˜ì–‘ì—¼ë¥˜ ê· í˜• ì§€í‘œ |
| `COD_BOD_ratio` | TOC / (BOD + Îµ) | COD/BOD ëŒ€ë¦¬ ì§€í‘œ | ìƒë¶„í•´ì„± í‰ê°€ |

**â€» Îµ = 1e-10**: 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€

#### 3.2 ë³€í™”ìœ¨ í”¼ì²˜ (4ê°œ)
| ë³€ìˆ˜ëª… | ê³„ì‚°ì‹ | ì˜ë¯¸ |
|--------|--------|------|
| `ìœ ëŸ‰_ë³€í™”ìœ¨` | (ìœ ì…ìœ ëŸ‰â‚œ - ìœ ì…ìœ ëŸ‰â‚œâ‚‹â‚) / ìœ ì…ìœ ëŸ‰â‚œâ‚‹â‚ | ì‹œê°„ë‹¹ ìœ ëŸ‰ ë³€í™”ìœ¨ |
| `BOD_ë³€í™”ìœ¨` | (ìœ ì…BODâ‚œ - ìœ ì…BODâ‚œâ‚‹â‚) / ìœ ì…BODâ‚œâ‚‹â‚ | ì‹œê°„ë‹¹ BOD ë³€í™”ìœ¨ |
| `TN_ë³€í™”ìœ¨` | (ìœ ì…TNâ‚œ - ìœ ì…TNâ‚œâ‚‹â‚) / ìœ ì…TNâ‚œâ‚‹â‚ | ì‹œê°„ë‹¹ TN ë³€í™”ìœ¨ |
| `TP_ë³€í™”ìœ¨` | (ìœ ì…TPâ‚œ - ìœ ì…TPâ‚œâ‚‹â‚) / ìœ ì…TPâ‚œâ‚‹â‚ | ì‹œê°„ë‹¹ TP ë³€í™”ìœ¨ |

#### 3.3 ê°€ì†ë„ í”¼ì²˜ (1ê°œ)
| ë³€ìˆ˜ëª… | ê³„ì‚°ì‹ | ì˜ë¯¸ |
|--------|--------|------|
| `ìœ ëŸ‰_ê°€ì†ë„` | ìœ ëŸ‰_ë³€í™”ìœ¨â‚œ - ìœ ëŸ‰_ë³€í™”ìœ¨â‚œâ‚‹â‚ | ìœ ëŸ‰ ë³€í™”ì˜ ê°€ì†ë„ |

### 4. Lag í”¼ì²˜ (12ê°œ)

**ëª©ì **: ê³¼ê±° ë°ì´í„° íŒ¨í„´ í•™ìŠµ

| ì‹œê°„ ë²”ìœ„ | ë³€ìˆ˜ ê°œìˆ˜ | ë³€ìˆ˜ ì˜ˆì‹œ |
|-----------|-----------|-----------|
| 24ì‹œê°„ ì „ (1ì¼) | 6ê°œ | `ìœ ì…ìœ ëŸ‰_lag24`, `ìœ ì…BOD_lag24`, ... |
| 168ì‹œê°„ ì „ (1ì£¼) | 6ê°œ | `ìœ ì…ìœ ëŸ‰_lag168`, `ìœ ì…BOD_lag168`, ... |

**â€» ê°œì„ ì‚¬í•­**: 1ì‹œê°„ Lag ì œê±° (ì‹¤ì‹œê°„ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì •ë³´)

### 5. Rolling í†µê³„ í”¼ì²˜ (16ê°œ)

**ëª©ì **: ìµœê·¼ 24ì‹œê°„ íŠ¸ë Œë“œ íŒŒì•…

| í†µê³„ëŸ‰ | ë³€ìˆ˜ ê°œìˆ˜ | ë³€ìˆ˜ ì˜ˆì‹œ |
|--------|-----------|-----------|
| í‰ê·  (mean) | 4ê°œ | `ìœ ì…ìœ ëŸ‰_rolling_mean24` |
| í‘œì¤€í¸ì°¨ (std) | 4ê°œ | `ìœ ì…ìœ ëŸ‰_rolling_std24` |
| ìµœëŒ€ê°’ (max) | 4ê°œ | `ìœ ì…ìœ ëŸ‰_rolling_max24` |
| ìµœì†Œê°’ (min) | 4ê°œ | `ìœ ì…ìœ ëŸ‰_rolling_min24` |

**ëŒ€ìƒ ë³€ìˆ˜**: ìœ ì…ìœ ëŸ‰, ìœ ì…BOD, ìœ ì…TN, ìœ ì…TP

### 6. ì „ì²´ í”¼ì²˜ êµ¬ì„± ìš”ì•½

```
ì´ 54ê°œ í”¼ì²˜
â”œâ”€ ì›ë³¸ ë³€ìˆ˜: 6ê°œ (ìœ ì…ìœ ëŸ‰, BOD, TN, TP, TOC, SS)
â”œâ”€ ì‹œê°„ í”¼ì²˜: 5ê°œ (hour, day_of_week, month, is_weekend, season)
â”œâ”€ ë„ë©”ì¸ í”¼ì²˜: 9ê°œ (ë¹„ìœ¨ 4ê°œ + ë³€í™”ìœ¨ 4ê°œ + ê°€ì†ë„ 1ê°œ)
â”œâ”€ Lag í”¼ì²˜: 12ê°œ (24h Ã— 6ê°œ + 168h Ã— 6ê°œ)
â”œâ”€ Rolling í”¼ì²˜: 16ê°œ (4ê°œ í†µê³„ëŸ‰ Ã— 4ê°œ ë³€ìˆ˜)
â””â”€ ì œì™¸: day (ê³¼ì í•© ë°©ì§€)
```

---

## ì…ë ¥ ë°ì´í„° ì „ì²˜ë¦¬ ê³¼ì •

### ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

```
ì›ë³¸ ë°ì´í„° (CSV)
    â†“
[1ë‹¨ê³„] ë°ì´í„° ë¡œë“œ ë° ì •ì œ
    â”œâ”€ í—¤ë” í–‰ ì½ê¸°
    â”œâ”€ ë‹¨ìœ„ í–‰ ì œê±° (2ë²ˆì§¸ í–‰)
    â”œâ”€ ì¸ë±ìŠ¤ ì¬ì„¤ì •
    â”œâ”€ ì´ˆê¸° ê²°ì¸¡ì¹˜ ì œê±°
    â””â”€ ë°ì´í„° íƒ€ì… ë³€í™˜ (float)
    â†“
[2ë‹¨ê³„] ì´ìƒì¹˜ ì²˜ë¦¬
    â”œâ”€ ë°©ë²•: ë¶„ìœ„ìˆ˜ ê¸°ë°˜ í´ë¦¬í•‘
    â”œâ”€ ë²”ìœ„: 1% ~ 99% ë¶„ìœ„ìˆ˜
    â””â”€ ëŒ€ìƒ: ëª¨ë“  ìˆ˜ì¹˜í˜• ë³€ìˆ˜ (6ê°œ)
    â†“
[3ë‹¨ê³„] ì‹œê°„ í”¼ì²˜ ìƒì„±
    â”œâ”€ datetime ë³€í™˜
    â”œâ”€ hour, day_of_week, month ì¶”ì¶œ
    â”œâ”€ is_weekend ìƒì„± (day_of_week >= 5)
    â””â”€ season ìƒì„± (ì›” â†’ ê³„ì ˆ ë§¤í•‘)
    â†“
[4ë‹¨ê³„] ë„ë©”ì¸ í”¼ì²˜ ìƒì„±
    â”œâ”€ ë¹„ìœ¨ í”¼ì²˜ (4ê°œ)
    â”œâ”€ ë³€í™”ìœ¨ í”¼ì²˜ (4ê°œ)
    â””â”€ ê°€ì†ë„ í”¼ì²˜ (1ê°œ)
    â†“
[5ë‹¨ê³„] ë¶€í•˜ëŸ‰ ê³„ì‚° (íƒ€ê²Ÿ ë³€ìˆ˜)
    â”œâ”€ BOD_ë¶€í•˜ëŸ‰ = ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…BOD Ã— 1e-3
    â”œâ”€ TN_ë¶€í•˜ëŸ‰ = ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…TN Ã— 1e-3
    â””â”€ TP_ë¶€í•˜ëŸ‰ = ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…TP Ã— 1e-3
    â†“
[6ë‹¨ê³„] Lag í”¼ì²˜ ìƒì„±
    â”œâ”€ 24ì‹œê°„ Lag (6ê°œ ë³€ìˆ˜)
    â””â”€ 168ì‹œê°„ Lag (6ê°œ ë³€ìˆ˜)
    â†“
[7ë‹¨ê³„] Rolling í†µê³„ ìƒì„±
    â”œâ”€ ìœˆë„ìš°: 24ì‹œê°„
    â”œâ”€ í†µê³„ëŸ‰: mean, std, max, min
    â””â”€ ëŒ€ìƒ: 4ê°œ ë³€ìˆ˜
    â†“
[8ë‹¨ê³„] ê²°ì¸¡ì¹˜ ì²˜ë¦¬
    â”œâ”€ ì´ˆê¸° 168ì‹œê°„ ì œê±° (Lag í”¼ì²˜ ìƒì„±ìœ¼ë¡œ ì¸í•œ ê²°ì¸¡)
    â””â”€ ë‚˜ë¨¸ì§€ ê²°ì¸¡ì¹˜ ì œê±° (dropna)
    â†“
[9ë‹¨ê³„] Feature/Target ë¶„ë¦¬
    â”œâ”€ ì œì™¸ ì»¬ëŸ¼: ì‹œê°„, ë¶€í•˜ëŸ‰ 3ê°œ, day
    â””â”€ Feature: 54ê°œ, Target: 3ê°œ
    â†“
[10ë‹¨ê³„] Train/Test ë¶„í• 
    â”œâ”€ ë°©ë²•: ì‹œê³„ì—´ ìˆœì°¨ ë¶„í• 
    â”œâ”€ ë¹„ìœ¨: Train 80% / Test 20%
    â””â”€ Shuffle: False (ì‹œê°„ ìˆœì„œ ìœ ì§€)
    â†“
[11ë‹¨ê³„] ì •ê·œí™”
    â”œâ”€ ë°©ë²•: StandardScaler
    â”œâ”€ ê³µì‹: (X - Î¼) / Ïƒ
    â”œâ”€ ì ìš©: X_train, y_trainìœ¼ë¡œ fit
    â””â”€ ë³€í™˜: X_test, y_testëŠ” transformë§Œ
    â†“
í•™ìŠµ ì¤€ë¹„ ì™„ë£Œ
```

### ê° ë‹¨ê³„ ìƒì„¸ ì„¤ëª…

#### 1ë‹¨ê³„: ë°ì´í„° ë¡œë“œ ë° ì •ì œ
```python
df = pd.read_csv('../dataset/20251024/ìœ ì…ìˆ˜.csv', header=0)
df = df.iloc[1:]  # ë‹¨ìœ„ í–‰ ì œê±°
df = df.reset_index(drop=True)
df.dropna(inplace=True)
df[df.columns[1:]] = df[df.columns[1:]].astype(float)
```

#### 2ë‹¨ê³„: ì´ìƒì¹˜ ì²˜ë¦¬
```python
def clip_outliers(df, columns, lower_quantile=0.01, upper_quantile=0.99):
    df_clipped = df.copy()
    for col in columns:
        lower = df[col].quantile(lower_quantile)
        upper = df[col].quantile(upper_quantile)
        df_clipped[col] = df[col].clip(lower, upper)
    return df_clipped

numeric_cols = ['ìœ ì…ìœ ëŸ‰', 'ìœ ì…BOD', 'ìœ ì…TN', 'ìœ ì…TP', 'ìœ ì…TOC', 'ìœ ì…SS']
df = clip_outliers(df, numeric_cols, lower_quantile=0.01, upper_quantile=0.99)
```

#### 3ë‹¨ê³„: ì‹œê°„ í”¼ì²˜ ìƒì„±
```python
df[time_col] = pd.to_datetime(df[time_col])
df['hour'] = df[time_col].dt.hour
df['day_of_week'] = df[time_col].dt.dayofweek
df['month'] = df[time_col].dt.month
df['is_weekend'] = (df['day_of_week'] >= 5).astype(int)

def get_season(month):
    if month in [3, 4, 5]: return 1  # ë´„
    elif month in [6, 7, 8]: return 2  # ì—¬ë¦„
    elif month in [9, 10, 11]: return 3  # ê°€ì„
    else: return 4  # ê²¨ìš¸

df['season'] = df['month'].apply(get_season)
```

#### 4ë‹¨ê³„: ë„ë©”ì¸ í”¼ì²˜ ìƒì„±
```python
# ë¹„ìœ¨ í”¼ì²˜
df['BOD_TN_ratio'] = df['ìœ ì…BOD'] / (df['ìœ ì…TN'] + 1e-10)
df['BOD_TP_ratio'] = df['ìœ ì…BOD'] / (df['ìœ ì…TP'] + 1e-10)
df['TN_TP_ratio'] = df['ìœ ì…TN'] / (df['ìœ ì…TP'] + 1e-10)
df['COD_BOD_ratio'] = df['ìœ ì…TOC'] / (df['ìœ ì…BOD'] + 1e-10)

# ë³€í™”ìœ¨ í”¼ì²˜
df['ìœ ëŸ‰_ë³€í™”ìœ¨'] = df['ìœ ì…ìœ ëŸ‰'].pct_change()
df['BOD_ë³€í™”ìœ¨'] = df['ìœ ì…BOD'].pct_change()
df['TN_ë³€í™”ìœ¨'] = df['ìœ ì…TN'].pct_change()
df['TP_ë³€í™”ìœ¨'] = df['ìœ ì…TP'].pct_change()

# ê°€ì†ë„ í”¼ì²˜
df['ìœ ëŸ‰_ê°€ì†ë„'] = df['ìœ ëŸ‰_ë³€í™”ìœ¨'].diff()
```

#### 5ë‹¨ê³„: ë¶€í•˜ëŸ‰ ê³„ì‚°
```python
df['BOD_ë¶€í•˜ëŸ‰'] = df['ìœ ì…ìœ ëŸ‰'] * df['ìœ ì…BOD'] * 1e-3  # kg/ì¼
df['TN_ë¶€í•˜ëŸ‰'] = df['ìœ ì…ìœ ëŸ‰'] * df['ìœ ì…TN'] * 1e-3
df['TP_ë¶€í•˜ëŸ‰'] = df['ìœ ì…ìœ ëŸ‰'] * df['ìœ ì…TP'] * 1e-3
```

#### 6ë‹¨ê³„: Lag í”¼ì²˜ ìƒì„±
```python
lag_features = ['ìœ ì…ìœ ëŸ‰', 'ìœ ì…BOD', 'ìœ ì…TN', 'ìœ ì…TP', 'ìœ ì…TOC', 'ìœ ì…SS']
lag_periods = [24, 168]  # 1ì‹œê°„ Lag ì œê±°

for feature in lag_features:
    for lag in lag_periods:
        df[f'{feature}_lag{lag}'] = df[feature].shift(lag)
```

#### 7ë‹¨ê³„: Rolling í†µê³„ ìƒì„±
```python
rolling_features = ['ìœ ì…ìœ ëŸ‰', 'ìœ ì…BOD', 'ìœ ì…TN', 'ìœ ì…TP']
window = 24

for feature in rolling_features:
    df[f'{feature}_rolling_mean24'] = df[feature].rolling(window=window).mean()
    df[f'{feature}_rolling_std24'] = df[feature].rolling(window=window).std()
    df[f'{feature}_rolling_max24'] = df[feature].rolling(window=window).max()
    df[f'{feature}_rolling_min24'] = df[feature].rolling(window=window).min()
```

#### 8ë‹¨ê³„: ê²°ì¸¡ì¹˜ ì²˜ë¦¬
```python
df_clean = df.iloc[168:].copy()  # ì´ˆê¸° 168ì‹œê°„ ì œê±°
df_clean = df_clean.dropna()      # ë‚˜ë¨¸ì§€ ê²°ì¸¡ì¹˜ ì œê±°
```

#### 9ë‹¨ê³„: Feature/Target ë¶„ë¦¬
```python
target_cols = ['BOD_ë¶€í•˜ëŸ‰', 'TN_ë¶€í•˜ëŸ‰', 'TP_ë¶€í•˜ëŸ‰']
exclude_cols = [time_col, 'BOD_ë¶€í•˜ëŸ‰', 'TN_ë¶€í•˜ëŸ‰', 'TP_ë¶€í•˜ëŸ‰', 'day']
feature_cols = [col for col in df_clean.columns if col not in exclude_cols]

X = df_clean[feature_cols]  # 54ê°œ í”¼ì²˜
y = df_clean[target_cols]   # 3ê°œ íƒ€ê²Ÿ
```

#### 10ë‹¨ê³„: Train/Test ë¶„í• 
```python
split_idx = int(len(X) * 0.8)
X_train = X.iloc[:split_idx]      # 6,870ê°œ
X_test = X.iloc[split_idx:]       # 1,718ê°œ
y_train = y.iloc[:split_idx]
y_test = y.iloc[split_idx:]
```

#### 11ë‹¨ê³„: ì •ê·œí™”
```python
scaler_X = StandardScaler()
scaler_y = StandardScaler()

X_train_scaled = scaler_X.fit_transform(X_train)
X_test_scaled = scaler_X.transform(X_test)
y_train_scaled = scaler_y.fit_transform(y_train)
y_test_scaled = scaler_y.transform(y_test)
```

---

## ì¶œë ¥ ë°ì´í„° ì •ì˜

### 1. ì˜ˆì¸¡ ëŒ€ìƒ (3ê°œ)

| ë³€ìˆ˜ëª… | ë‹¨ìœ„ | ê³„ì‚°ì‹ | ì„¤ëª… | ì •ìƒ ë²”ìœ„ |
|--------|------|--------|------|-----------|
| `BOD_ë¶€í•˜ëŸ‰` | kg/ì¼ | ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…BOD Ã— 1e-3 | ìƒë¬¼í•™ì  ì‚°ì†Œìš”êµ¬ ë¶€í•˜ëŸ‰ | 5,000~30,000 |
| `TN_ë¶€í•˜ëŸ‰` | kg/ì¼ | ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…TN Ã— 1e-3 | ì´ ì§ˆì†Œ ë¶€í•˜ëŸ‰ | 1,000~8,000 |
| `TP_ë¶€í•˜ëŸ‰` | kg/ì¼ | ìœ ì…ìœ ëŸ‰ Ã— ìœ ì…TP Ã— 1e-3 | ì´ ì¸ ë¶€í•˜ëŸ‰ | 100~1,500 |

### 2. ì¶œë ¥ í˜•ì‹

#### Python (numpy array)
```python
# ë‹¨ì¼ ìƒ˜í”Œ ì˜ˆì¸¡
y_pred = model.predict(X_new)
# ì¶œë ¥: [[16234.56, 4123.45, 512.34]]
#        [BODë¶€í•˜ëŸ‰, TNë¶€í•˜ëŸ‰, TPë¶€í•˜ëŸ‰]

# ë‹¤ì¤‘ ìƒ˜í”Œ ì˜ˆì¸¡
y_pred = model.predict(X_new_batch)
# ì¶œë ¥:
# [[16234.56, 4123.45, 512.34],
#  [15987.23, 4087.12, 498.76],
#  [17123.89, 4234.56, 534.12]]
```

#### JSON í˜•ì‹
```json
{
  "timestamp": "2024-12-31 12:00:00",
  "predictions": {
    "BOD_ë¶€í•˜ëŸ‰": 16234.56,
    "TN_ë¶€í•˜ëŸ‰": 4123.45,
    "TP_ë¶€í•˜ëŸ‰": 512.34
  },
  "unit": "kg/ì¼",
  "model_version": "REQ002_v1.0"
}
```

### 3. ì¶œë ¥ ë°ì´í„° í•´ì„

#### BOD ë¶€í•˜ëŸ‰ (Biochemical Oxygen Demand Load)
- **ì˜ë¯¸**: ë¯¸ìƒë¬¼ì´ ìœ ê¸°ë¬¼ì„ ë¶„í•´í•˜ëŠ” ë° í•„ìš”í•œ ì‚°ì†ŒëŸ‰
- **í™œìš©**:
  - ìƒë¬¼ë°˜ì‘ì¡° ìš©ëŸ‰ ì„¤ê³„
  - í¬ê¸°ëŸ‰ ê²°ì •
  - ìŠ¬ëŸ¬ì§€ ë°œìƒëŸ‰ ì˜ˆì¸¡

#### TN ë¶€í•˜ëŸ‰ (Total Nitrogen Load)
- **ì˜ë¯¸**: ì´ ì§ˆì†Œ ë¶€í•˜ëŸ‰ (ì•”ëª¨ë‹ˆì•„ì„± ì§ˆì†Œ, ì§ˆì‚°ì„± ì§ˆì†Œ, ìœ ê¸°ì„± ì§ˆì†Œ í¬í•¨)
- **í™œìš©**:
  - ì§ˆì‚°í™”/íƒˆì§ˆ ê³µì • ìµœì í™”
  - ì™¸ë¶€íƒ„ì†Œì› ì£¼ì…ëŸ‰ ê²°ì •
  - ë°©ë¥˜ìˆ˜ ìˆ˜ì§ˆ ê´€ë¦¬

#### TP ë¶€í•˜ëŸ‰ (Total Phosphorus Load)
- **ì˜ë¯¸**: ì´ ì¸ ë¶€í•˜ëŸ‰ (ì¸ì‚°ì—¼ ë° ìœ ê¸°ì¸ í¬í•¨)
- **í™œìš©**:
  - ìƒë¬¼í•™ì  ì¸ ì œê±° íš¨ìœ¨ ì˜ˆì¸¡
  - ì‘ì§‘ì œ ì£¼ì…ëŸ‰ ê²°ì •
  - ê³ ë„ì²˜ë¦¬ ê³µì • ìš´ì˜

### 4. ì˜ˆì¸¡ ì‹ ë¢°ë„ ì§€í‘œ

ëª¨ë¸ê³¼ í•¨ê»˜ ë‹¤ìŒ ì§€í‘œë¥¼ ì œê³µí•˜ì—¬ ì˜ˆì¸¡ ì‹ ë¢°ë„ë¥¼ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
# ì˜ˆì¸¡ êµ¬ê°„ (Prediction Interval)
y_pred_lower = y_pred - 1.96 * y_pred_std  # 95% í•˜í•œ
y_pred_upper = y_pred + 1.96 * y_pred_std  # 95% ìƒí•œ

# ì¶œë ¥ ì˜ˆì‹œ
{
  "BOD_ë¶€í•˜ëŸ‰": {
    "prediction": 16234.56,
    "lower_95": 15987.23,
    "upper_95": 16481.89,
    "confidence": 0.95
  }
}
```

---

## ëª¨ë¸ ì‚¬ìš© ë°©ë²•

### 1. ëª¨ë¸ ë¡œë“œ

```python
import joblib
import pandas as pd
import numpy as np

# ì €ì¥ëœ ëª¨ë¸ ë° ìŠ¤ì¼€ì¼ëŸ¬ ë¡œë“œ
model = joblib.load('xgboost_multioutput_model_YYYYMMDD_HHMMSS.pkl')
scaler_X = joblib.load('scaler_X_YYYYMMDD_HHMMSS.pkl')
scaler_y = joblib.load('scaler_y_YYYYMMDD_HHMMSS.pkl')
feature_cols = joblib.load('feature_cols_YYYYMMDD_HHMMSS.pkl')

print(f"âœ“ ëª¨ë¸ ë¡œë“œ ì™„ë£Œ")
print(f"  - í”¼ì²˜ ìˆ˜: {len(feature_cols)}ê°œ")
print(f"  - ì¶œë ¥ ìˆ˜: 3ê°œ (BOD, TN, TP ë¶€í•˜ëŸ‰)")
```

### 2. ìƒˆë¡œìš´ ë°ì´í„° ì˜ˆì¸¡ (ê¸°ë³¸)

```python
# 1. ìƒˆë¡œìš´ ë°ì´í„° ì¤€ë¹„ (DataFrame í˜•ì‹)
X_new = pd.DataFrame({
    'ìœ ì…ìœ ëŸ‰': [128000],
    'ìœ ì…BOD': [156.8],
    'ìœ ì…TN': [24.9],
    # ... (ëª¨ë“  54ê°œ í”¼ì²˜ í•„ìš”)
})

# 2. í”¼ì²˜ ìˆœì„œ ë§ì¶”ê¸°
X_new_aligned = X_new[feature_cols]

# 3. ì •ê·œí™”
X_new_scaled = scaler_X.transform(X_new_aligned)

# 4. ì˜ˆì¸¡
y_pred_scaled = model.predict(X_new_scaled)

# 5. ì—­ì •ê·œí™”
y_pred = scaler_y.inverse_transform(y_pred_scaled)

# 6. ê²°ê³¼ ì¶œë ¥
print(f"ì˜ˆì¸¡ ê²°ê³¼:")
print(f"  BOD ë¶€í•˜ëŸ‰: {y_pred[0][0]:,.2f} kg/ì¼")
print(f"  TN ë¶€í•˜ëŸ‰:  {y_pred[0][1]:,.2f} kg/ì¼")
print(f"  TP ë¶€í•˜ëŸ‰:  {y_pred[0][2]:,.2f} kg/ì¼")
```

### 3. ì‹¤ì‹œê°„ ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤

```python
# ì‹¤ì‹œê°„ ìš´ì˜ í•¨ìˆ˜ ì •ì˜ (ëª¨ë¸ í•™ìŠµ ì‹œ ì •ì˜ë¨)
def handle_missing_realtime(df, limit=3):
    """ê²°ì¸¡ì¹˜ ì²˜ë¦¬: ìµœëŒ€ 3ì‹œê°„ê¹Œì§€ ì „ë°©í–¥ ì±„ìš°ê¸°"""
    return df.fillna(method='ffill', limit=limit)

def predict_with_fallback(model, X, y_train_history, min_lag_hours=168):
    """Cold Start ëŒ€ì‘: Lag í”¼ì²˜ ë¶€ì¡± ì‹œ í‰ê· ê°’ ì‚¬ìš©"""
    if hasattr(X, 'columns'):
        lag_cols = [col for col in X.columns if 'lag' in col]
        if X[lag_cols].isnull().any().any():
            print("âš ï¸ Cold start detected - using historical average")
            return y_train_history[-min_lag_hours:].mean(axis=0)
    return model.predict(X)

def monitor_model_performance(y_true, y_pred, threshold_mape=20):
    """ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§: MAPE 20% ì´ˆê³¼ ì‹œ ì¬í•™ìŠµ í•„ìš”"""
    mape = np.mean(np.abs((y_true - y_pred) / (y_true + 1e-10))) * 100
    if mape > threshold_mape:
        print(f"âš ï¸ Model degradation: MAPE {mape:.2f}% > {threshold_mape}%")
        return True
    return False

# ì‹¤ì‹œê°„ ì˜ˆì¸¡ ì›Œí¬í”Œë¡œìš°
# 1. ìƒˆë¡œìš´ ë°ì´í„° ìˆ˜ì‹ 
X_new = get_latest_data()  # ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹ 

# 2. ê²°ì¸¡ì¹˜ ì²˜ë¦¬
X_new_filled = handle_missing_realtime(X_new, limit=3)

# 3. í”¼ì²˜ ì •ë ¬ ë° ì •ê·œí™”
X_new_aligned = X_new_filled[feature_cols]
X_new_scaled = scaler_X.transform(X_new_aligned)

# 4. ì˜ˆì¸¡ (Cold Start ëŒ€ì‘)
y_pred_scaled = predict_with_fallback(model, X_new_scaled, y_train_history)
y_pred = scaler_y.inverse_transform(y_pred_scaled.reshape(1, -1))

# 5. ê²°ê³¼ ì €ì¥ ë° ì „ì†¡
save_prediction(y_pred)
send_to_dashboard(y_pred)

# 6. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (ì‹¤ì œê°’ í™•ì¸ í›„)
if y_actual_available:
    need_retrain = monitor_model_performance(y_actual, y_pred, threshold_mape=20)
    if need_retrain:
        trigger_retraining()
```

### 4. ë°°ì¹˜ ì˜ˆì¸¡

```python
# ì—¬ëŸ¬ ì‹œê°„ëŒ€ ì˜ˆì¸¡
timestamps = pd.date_range('2024-12-31 00:00', periods=24, freq='H')
predictions = []

for ts in timestamps:
    X_new = prepare_features_for_timestamp(ts)
    X_new_scaled = scaler_X.transform(X_new[feature_cols])
    y_pred_scaled = model.predict(X_new_scaled)
    y_pred = scaler_y.inverse_transform(y_pred_scaled)
    predictions.append(y_pred[0])

# DataFrameìœ¼ë¡œ ë³€í™˜
df_pred = pd.DataFrame(predictions,
                       columns=['BOD_ë¶€í•˜ëŸ‰', 'TN_ë¶€í•˜ëŸ‰', 'TP_ë¶€í•˜ëŸ‰'],
                       index=timestamps)

print(df_pred)
```

### 5. API ì—”ë“œí¬ì¸íŠ¸ ì˜ˆì‹œ (FastAPI)

```python
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
import joblib

app = FastAPI()

# ëª¨ë¸ ë¡œë“œ (ì‹œì‘ ì‹œ 1íšŒ)
model = joblib.load('model.pkl')
scaler_X = joblib.load('scaler_X.pkl')
scaler_y = joblib.load('scaler_y.pkl')
feature_cols = joblib.load('feature_cols.pkl')

class InputData(BaseModel):
    ìœ ì…ìœ ëŸ‰: float
    ìœ ì…BOD: float
    ìœ ì…TN: float
    ìœ ì…TP: float
    ìœ ì…TOC: float
    ìœ ì…SS: float
    # ... (ëª¨ë“  54ê°œ í”¼ì²˜)

class PredictionResponse(BaseModel):
    BOD_ë¶€í•˜ëŸ‰: float
    TN_ë¶€í•˜ëŸ‰: float
    TP_ë¶€í•˜ëŸ‰: float
    timestamp: str

@app.post("/predict", response_model=PredictionResponse)
def predict(data: InputData):
    try:
        # ì…ë ¥ ë°ì´í„°ë¥¼ DataFrameìœ¼ë¡œ ë³€í™˜
        X_new = pd.DataFrame([data.dict()])
        X_new_aligned = X_new[feature_cols]

        # ì˜ˆì¸¡
        X_new_scaled = scaler_X.transform(X_new_aligned)
        y_pred_scaled = model.predict(X_new_scaled)
        y_pred = scaler_y.inverse_transform(y_pred_scaled)

        # ì‘ë‹µ
        return PredictionResponse(
            BOD_ë¶€í•˜ëŸ‰=float(y_pred[0][0]),
            TN_ë¶€í•˜ëŸ‰=float(y_pred[0][1]),
            TP_ë¶€í•˜ëŸ‰=float(y_pred[0][2]),
            timestamp=datetime.now().isoformat()
        )
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

# ì„œë²„ ì‹¤í–‰: uvicorn main:app --reload
```

---

## ì„±ëŠ¥ ì§€í‘œ

### 1. ëª©í‘œ ì„±ëŠ¥

| ì§€í‘œ | ëª©í‘œê°’ | ì„¤ëª… |
|------|--------|------|
| **RÂ² Score** | â‰¥ 0.85 | ê²°ì •ê³„ìˆ˜ (1ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì¢‹ìŒ) |
| **MAPE** | â‰¤ 15% | í‰ê·  ì ˆëŒ€ ë°±ë¶„ìœ¨ ì˜¤ì°¨ |
| **RMSE** | BOD: â‰¤ 1000 kg/ì¼<br>TN: â‰¤ 300 kg/ì¼<br>TP: â‰¤ 50 kg/ì¼ | í‰ê·  ì œê³±ê·¼ ì˜¤ì°¨ |

### 2. ê°œì„  í›„ ì˜ˆìƒ ì„±ëŠ¥ (ê°œì„  ì™„ë£Œ ê¸°ì¤€)

| íƒ€ê²Ÿ | Train RÂ² | Test RÂ² | Test MAPE | Test RMSE |
|------|----------|---------|-----------|-----------|
| BOD ë¶€í•˜ëŸ‰ | 0.95~0.97 | 0.85~0.90 | 3~5% | 300~500 kg/ì¼ |
| TN ë¶€í•˜ëŸ‰ | 0.95~0.97 | 0.85~0.90 | 4~6% | 80~120 kg/ì¼ |
| TP ë¶€í•˜ëŸ‰ | 0.95~0.97 | 0.85~0.90 | 5~8% | 10~20 kg/ì¼ |

### 3. Time Series Cross-Validation ê²°ê³¼

5-Fold CV í‰ê·  ì„±ëŠ¥ (ì˜ˆìƒ):

```
BOD_ë¶€í•˜ëŸ‰: RÂ² = 0.87 Â± 0.03
TN_ë¶€í•˜ëŸ‰:  RÂ² = 0.86 Â± 0.04
TP_ë¶€í•˜ëŸ‰:  RÂ² = 0.85 Â± 0.05
```

### 4. Feature Importance Top 10

| ìˆœìœ„ | í”¼ì²˜ëª… | ì¤‘ìš”ë„ | ì„¤ëª… |
|------|--------|--------|------|
| 1 | ìœ ì…TP | 0.2297 | TP ë¶€í•˜ëŸ‰ ì˜ˆì¸¡ì— ê²°ì •ì  |
| 2 | ìœ ì…BOD | 0.2204 | BOD ë¶€í•˜ëŸ‰ ì˜ˆì¸¡ì— ê²°ì •ì  |
| 3 | ìœ ì…TN | 0.2130 | TN ë¶€í•˜ëŸ‰ ì˜ˆì¸¡ì— ê²°ì •ì  |
| 4 | ìœ ì…ìœ ëŸ‰ | 0.1607 | ëª¨ë“  ë¶€í•˜ëŸ‰ ê³„ì‚°ì˜ ê¸°ë³¸ |
| 5 | ìœ ì…ìœ ëŸ‰_rolling_mean24 | 0.0332 | ìœ ëŸ‰ íŠ¸ë Œë“œ |
| 6 | month | 0.0124 | ê³„ì ˆì„± íŒ¨í„´ |
| 7 | ìœ ì…BOD_rolling_mean24 | 0.0123 | BOD íŠ¸ë Œë“œ |
| 8 | ìœ ì…TN_rolling_mean24 | 0.0122 | TN íŠ¸ë Œë“œ |
| 9 | ìœ ì…TP_rolling_mean24 | 0.0090 | TP íŠ¸ë Œë“œ |
| 10 | hour | 0.0058 | ì‹œê°„ëŒ€ë³„ íŒ¨í„´ |

### 5. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ê¸°ì¤€

#### ì •ê¸° ì¬í•™ìŠµ ì£¼ê¸°
- **ê¸°ë³¸**: 30ì¼ë§ˆë‹¤ ì¬í•™ìŠµ
- **ì´ìœ **: ë°ì´í„° ë¶„í¬ ë³€í™” ëŒ€ì‘

#### ì¡°ê¸° ì¬í•™ìŠµ ê¸°ì¤€
- **MAPE > 20%**: ëª¨ë¸ ì„±ëŠ¥ ì €í•˜ ê°ì§€ ì‹œ ì¦‰ì‹œ ì¬í•™ìŠµ
- **ì—°ì† 3ì¼ ì´ìƒ ì˜ˆì¸¡ ì˜¤ì°¨ ì¦ê°€**: íŠ¸ë Œë“œ ë³€í™” ê°ì§€

#### ì•Œë¦¼ ê¸°ì¤€
- **Warning**: MAPE 15~20% (ì£¼ì˜ í•„ìš”)
- **Critical**: MAPE > 20% (ì¬í•™ìŠµ í•„ìš”)

---

## ì°¸ê³  ë¬¸ì„œ

- **ëª¨ë¸ ì½”ë“œ**: [req002_model.ipynb](req002_model.ipynb)
- **ë¦¬ë·° ë¬¸ì„œ**: [review.md](review.md)
- **ë°ì´í„°ì…‹**: [dataset/20251024/ìœ ì…ìˆ˜.csv](../dataset/20251024/ìœ ì…ìˆ˜.csv)

---

**ë¬¸ì˜**: ëª¨ë¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ AIíŒ€ìœ¼ë¡œ ì—°ë½ ë°”ëë‹ˆë‹¤.
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-11-20
